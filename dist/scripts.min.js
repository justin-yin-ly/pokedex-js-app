let pokemonRepository=function(){let t=[];function e(e){t.push(e)}function n(){return t}function o(t){return fetch(t.detailsUrl).then(function(t){return t.json()}).then(function(e){t.imageUrl=e.sprites.front_default,t.height=e.height,t.types=e.types,t.id=e.id}).catch(function(t){console.error(t)})}return{add:e,addv:function e(n){if("object"==typeof n){let o=["name","height","types"],i=!0;for(let r=0;r<o.length;r++)Object.keys(n)[r]!=o[r]&&(i=!1);i?t.push(n):console.log("Entry was not a valid pokemon")}else console.log("Entry was not an object")},addListItem:function t(e){let n=$('<li class="list-group-item"></li>'),i=$('<button class="poke-button btn btn-primary" data-toggle="modal" data-target="#modal-container"></button'),r=e.name[0].toUpperCase()+e.name.slice(1);i.text(r),i.on("click",function(){$("#modal-label").text(r),o(e).then(function(){$(".sprite").attr("src",e.imageUrl),$(".details").text("Height: "+e.height),$("#modal-poke-number").text("#"+e.id)})}),n.append(i),$(".pokemon-list").append(n)},searchName:function e(n){return t.filter(t=>t.name===n)},loadList:function t(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){return t.json()}).then(function(t){t.results.forEach(function(t){let n;fetch(t.url).then(function(t){return t.json()}).then(function(t){n=t.id}).catch(function(t){console.error(t)}),console.log(n);e({name:t.name,detailsUrl:t.url,id:n})})}).catch(function(t){console.error(t)})},loadDetails:o,getAll:n}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})}),window.addEventListener("keydown",t=>{let e=document.querySelector("#modal-container");"Escape"===t.key&&e.classList.contains("is-visible")&&hideModal()});